@page "/resumes/builder/{resumeId}"@page "/resume/builder/{resumeId}"@page "/resumes/edit/{resumeId}"@page "/resume/edit/{resumeId}"@using MyVideoResume.Client.Pages.App.People.Resumes.Templates@using MyVideoResume.Data.Models.Resume@using Abstractions.Resume.Formats.JSONResumeFormat@using MyVideoResume.Abstractions.Resume@using MyVideoResume.Client.Pages.App.People.Resumes.Builder.Components@attribute [Authorize]@inherits ResumeComponent<PageTitle>MyVideoResu.ME - Resume Builder</PageTitle>@if (Resume == null)
{    <RadzenRow>        <RadzenColumn Size="11" SizeXS="12">            <RadzenText Text="Nice Try" TextStyle="Radzen.Blazor.TextStyle.DisplayH2" TagName="Radzen.Blazor.TagName.Auto"></RadzenText>            <RadzenText Text="You are not authorized to modify this item or the item no longer exists." TextStyle="Radzen.Blazor.TextStyle.Body1" TagName="Radzen.Blazor.TagName.Auto"></RadzenText>        </RadzenColumn>    </RadzenRow>}
else
{    <RadzenRow>        <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="4" SizeLG="4" SizeXL="4" SizeXX="4">            <RadzenText Text="Resume Builder" TextStyle="Radzen.Blazor.TextStyle.DisplayH4" TagName="Radzen.Blazor.TagName.Auto"></RadzenText>            <RadzenRow>                <RadzenColumn>                    <RadzenCard>                        <HappinessScale Value=@PercentageComplete />                        <RadzenTabs TabPosition="TabPosition.Left">                            <Tabs>                                <RadzenTabsItem Text="Privacy">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenLabel Text="Resume is Public?" Component="Privacy_ShowResume" />                                            <RadzenIcon Icon="help" MouseEnter="@(args => ShowTooltip(args, "Do you want your resume to be publicly visible / accessible?"))"></RadzenIcon>                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenDropDown Change=@((args) => ChangePrivacy()) Style="width: 100%; max-width: 400px;" Name="Privacy_ShowResume" TValue="string" @bind-Value=@Privacy_ShowResume Data=@Privacy TextProperty="Value" ValueProperty="Key"></RadzenDropDown>                                            <RadzenRequiredValidator Component="Privacy_ShowResume" Text="Privacy Setting required." />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenLabel Text="Contact Details are Public?" Component="Privacy_ShowContactDetails" />                                            <RadzenIcon Icon="help" MouseEnter="@(args => ShowTooltip(args, "By default your resume will show your contact details (Email / Phone / Website)."))"></RadzenIcon>                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenDropDown Change=@((args) => ChangePrivacy()) Style="width: 100%; max-width: 400px;" Name="Privacy_ShowContactDetails" TValue="string" @bind-Value=@Privacy_ShowContactDetails Data=@Privacy Placeholder="Privacy" TextProperty="Value" ValueProperty="Key"></RadzenDropDown>                                            <RadzenRequiredValidator Component="Privacy_ShowContactDetails" Text="Privacy Setting required." />                                        </RadzenColumn>                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Basics">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        <RadzenColumn Size="12" SizeMD="4">                                            <RadzenLabel Text="Resume Name" Component="Resume.ResumeInformation.Name" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="8">                                            <RadzenTextBox Style="width: 100%;" Name="Resume Name" @bind-Value=@Resume.Name />                                            <RadzenRequiredValidator Component="Resume.ResumeInformation.Name" Text="Resume Name is required" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenLabel Text="Resume Description" Component="Resume.ResumeInformation.Description" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenTextArea Style="width: 100%;" Name="Resume Description" @bind-Value=@Resume.Description />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <hr />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="4">                                            <RadzenLabel Text="Your Name" Component="Resume.Basics.Name" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="8">                                            <RadzenTextBox Style="width: 100%;" Name="Name" @bind-Value=@Resume.MetaResume.Basics.Name />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="4">                                            <RadzenLabel Text="Email" Component="Resume.MetaResume.Basics.Email" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="8">                                            <RadzenTextBox Style="width: 100%;" Name="Email" @bind-Value=@Resume.MetaResume.Basics.Email />                                            <RadzenRequiredValidator Component="Email" Text="Email is required" />                                            <RadzenEmailValidator Component="Email" Text="Provide a valid email address" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="4">                                            <RadzenLabel Text="Phone" Component="Resume.Basics.Phone" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="8">                                            <RadzenMask Mask="(***) ***-****" CharacterPattern="[0-9]" Placeholder="(000) 000-0000" Name="Phone" @bind-Value=@Resume.MetaResume.Basics.Phone Style="width: 100%;" aria-label="Phone" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="4">                                            <RadzenLabel Text="Url" Component="Resume.Basics.Url" />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="8">                                            <RadzenTextBox Style="width: 100%;" Name="Url" @bind-Value=@Resume.MetaResume.Basics.Url />                                        </RadzenColumn>                                        <RadzenColumn Size="12" SizeMD="12">                                            <RadzenLabel Text="Summary" Component="Resume.Basics.Summary" />                                            <RadzenTextArea @bind-Value=@Resume.MetaResume.Basics.Summary oninput="event.target.style.height = Math.max(event.target.clientHeight, event.target.scrollHeight) + 'px';" Style="width: 100%" aria-label="Summary" />                                        </RadzenColumn>                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Work">                                    <RadzenStack style="overflow-y: scroll; height:435px" id="workContainer">                                        @foreach (var context in GetWorkItems())
                                        {                                            <RadzenCard Variant="Variant.Outlined" Style="margin-bottom:8px;">                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenButton Style="float: right" Size="ButtonSize.ExtraSmall" Icon="delete_forever" ButtonStyle="ButtonStyle.Danger" Click=@(() => Delete(context)) />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="4">                                                    <RadzenLabel Text="Business Name" Component="Work.Name" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="8">                                                    <RadzenTextBox Style="width: 100%;" Name="Work.Name" @bind-Value=@context.Name />                                                    <RadzenRequiredValidator Component="Work.Name" Text="Business Name is required" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenLabel Text="Position/Title" Component="Work.Position" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenTextBox Style="width: 100%;" Name="Work.Position" @bind-Value=@context.Position />                                                    <RadzenRequiredValidator Component="Work.Position" Text="Position is required" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="4">                                                    <RadzenLabel Text="Url" Component="Work.Url" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="8">                                                    <RadzenTextBox Style="width: 100%;" Name="Url" @bind-Value=@context.Url />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenLabel Text="Summary" Component="Work.Summary" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenTextArea Style="width: 100%;" Name="Work.Summary" @bind-Value=@context.Summary />                                                    <RadzenRequiredValidator Component="Work.Summary" Text="Summary is required" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    <RadzenLabel Text="Highlights" Component="Work.Highlights" />                                                </RadzenColumn>                                                <RadzenColumn Size="12" SizeMD="12">                                                    @if (context.Highlights != null)
                                                    {                                                        <RadzenTextArea Style="width: 100%;" Name="Work.Highlights" @bind-Value=@context.HighlightsFlattened />                                                    }
                                                    else
                                                    {                                                        <RadzenButton Size="ButtonSize.ExtraSmall" Icon="add" Text="Add Highlight" ButtonStyle="ButtonStyle.Primary" Click=@(() => CreateWorkHighlightItem(context)) />                                                    }                                                </RadzenColumn>                                            </RadzenCard>                                        }                                    </RadzenStack>                                    <RadzenButton Size="ButtonSize.ExtraSmall" Icon="add" ButtonStyle="ButtonStyle.Primary" Text="Add Work" Click="@CreateItem" />                                </RadzenTabsItem>                                <RadzenTabsItem Text="Education">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        <ResumeEducationComponent Resume=@Resume></ResumeEducationComponent>                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Skills">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Volunteer">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Awards">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Certificates">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Publications">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Languages">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Interests">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="Projects">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                                <RadzenTabsItem Text="References">                                    <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="5" SizeLG="3" SizeXL="3" SizeXX="3" style="overflow:auto;">                                        sdfsfsd                                    </RadzenColumn>                                </RadzenTabsItem>                            </Tabs>                        </RadzenTabs>                        <RadzenStack JustifyContent=" JustifyContent.Right">                            <RadzenButton Text="Save" Icon="add_circle" Click=@(args => Save())></RadzenButton>                        </RadzenStack>                    </RadzenCard>                </RadzenColumn>            </RadzenRow>        </RadzenColumn>        <RadzenColumn Size="12" SizeXS="12" SizeSM="12" SizeMD="8" SizeLG="8" SizeXL="8" SizeXX="8">            @if (!string.IsNullOrEmpty(Resume.ResumeTemplate?.Name))
            {                <DynamicComponent Type="ComponentType" Parameters="ComponentParameters"></DynamicComponent>            }
            else
            {                <StandardTemplate Resume=@Resume Mode=StandardTemplate.DisplayMode.Edit></StandardTemplate>            }        </RadzenColumn>    </RadzenRow>}<script>    function scrollToWork() {        var container = document.querySelector("#workContainer");        container.scrollTo(0,container.scrollHeight);    }</script>